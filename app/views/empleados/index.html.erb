<h1 class="text-center">Empleados</h1>
<% case current_user.tipo %>
<% when 1 %>
  <h2 class="text-center">EMPLEADOS CON ERROR EN DATA WAREHOUSE</h2>
  <table style="width:100%", class= "table table-striped table-bordered table-sm">
    <tr>
      <th>Id Empleado </th>
      <th>Nombre</th> 
      <th>Fecha de nacimiento</th>
      <th>Dirección</th>
      <th>Teléfono</th>
      <th>E-mail</th>
      <th>Id Turno</th>
      <th>Opciones</th>
    </tr>
    <% @empleados_data.each do |empleado| %>
      <% if empleado.errorNombre || empleado.errorTelefono || empleado.errorCorreo %>
        <tr>
          <th><%= empleado.idEmpleado %></th> 
          <% if empleado.errorNombre %>
            <th class ='alert alert-danger' ><%= empleado.nombre_empleado %></th> 
          <% else %>
            <th><%= empleado.nombre_empleado %></th> 
          <% end %>
          <th><%= empleado.fec_nac %></th> 
          <th><%= empleado.direccion %></th> 
          <% if empleado.errorTelefono %>
            <th class ='alert alert-danger' ><%= empleado.telefono %></th> 
          <% else %>
            <th><%= empleado.telefono %></th> 
          <% end %>
          <% if empleado.errorCorreo %>
            <th class ='alert alert-danger' ><%= empleado.email %></th> 
          <% else %>
            <th><%= empleado.email %></th> 
          <% end %>
          <th><%= empleado.id_turno %></th> 
          <th><%= link_to "Editar", edit_empleado_path(empleado.idEmpleado) %>
          <%= link_to "Eliminar", empleado, method: :delete, data: {confirm: "Deseas eliminar el área #{empleado.nombre_empleado}?"} %></th> 
        </tr>
      <%end%>
    <%end%>
  </table>
<% when 4 %>
<h2 class="text-center">EMPLEADOS CON ERROR EN BIBLIOTECA</h2>
  <table style="width:100%", class= "table table-striped table-bordered table-sm">
    <tr>
      <th>Id Empleado </th>
      <th>Nombre</th> 
      <th>Fecha de nacimiento</th>
      <th>Dirección</th>
      <th>Teléfono</th>
      <th>E-mail</th>
      <th>Id Turno</th>
      <th>Opciones</th>
    </tr>
    <% @empleados_data.each do |empleado| %>
      <% if empleado.errorNombre || empleado.errorTelefono || empleado.errorCorreo %>
        <tr>
          <th><%= empleado.idEmpleado %></th> 
          <% if empleado.errorNombre %>
            <th class ='alert alert-danger' ><%= empleado.nombre_empleado %></th> 
          <% else %>
            <th><%= empleado.nombre_empleado %></th> 
          <% end %>
          <th><%= empleado.fec_nac %></th> 
          <th><%= empleado.direccion %></th> 
          <% if empleado.errorTelefono %>
            <th class ='alert alert-danger' ><%= empleado.telefono %></th> 
          <% else %>
            <th><%= empleado.telefono %></th> 
          <% end %>
          <% if empleado.errorCorreo %>
            <th class ='alert alert-danger' ><%= empleado.email %></th> 
          <% else %>
            <th><%= empleado.email %></th> 
          <% end %>
          <th><%= empleado.id_turno %></th> 
          <th><%= link_to "Editar", edit_empleado_path(empleado.idEmpleado) %>
          <%= link_to "Eliminar", empleado, method: :delete, data: {confirm: "Deseas eliminar el área #{empleado.nombre_empleado}?"} %></th> 
        </tr>
      <%end%>
    <%end%>
  </table>
<%end%>
<div class="text-center">
    <%= link_to "Eliminar todo", eliminar_empleados_path, data: { confirm: "Desea eliminar todos los registros de Empleados?" }, class: 'btn btn-primary btn-lg' %>
    <%= link_to "Regresar" , show_tables_path, method: :get , class: 'btn btn-primary btn-lg'%>
</div>

